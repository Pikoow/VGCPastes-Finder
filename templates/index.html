<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>VGC Pastes Finder</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link rel="stylesheet" href="{{ url_for('static', filename='styles.css') }}">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/animate.css/4.1.1/animate.min.css">
    <script>
        // Check for dark mode preference in localStorage
        if (localStorage.theme === 'dark' || (!('theme' in localStorage) && window.matchMedia('(prefers-color-scheme: dark)').matches)) {
            document.documentElement.classList.add('dark');
        } else {
            document.documentElement.classList.remove('dark');
        }
    </script>
</head>
<body class="bg-amber-50 text-gray-900 dark:bg-gray-800 dark:text-gray-100 font-sans">
    <div class="container mx-auto p-4">
        <!-- Dark Mode Toggle -->
        <div class="flex justify-end mb-4">
            <button id="theme-toggle" class="p-2 rounded-full bg-amber-200 dark:bg-gray-700 hover:bg-amber-300 dark:hover:bg-gray-600 transition-colors">
                <span id="theme-icon">ðŸŒ™</span>
            </button>
        </div>

        <h1 class="text-5xl font-bold text-center mb-8 text-gray-800 dark:text-gray-100 font-serif">VGC Pastes Finder</h1>
        <div class="flex justify-center mb-8">
            <input type="text" id="instruction" placeholder="Enter your team request (e.g., 'Water-type team with Pikachu')" class="w-1/2 p-2 rounded-l-lg bg-amber-100 border border-amber-300 text-gray-900 focus:outline-none focus:ring-2 focus:ring-amber-500 dark:bg-gray-700 dark:border-gray-600 dark:text-gray-100">
            <button id="search-btn" class="bg-amber-500 p-2 rounded-r-lg hover:bg-amber-600 flex items-center text-white transition-colors">
                <span id="search-text">Search</span>
                <span id="loading-spinner" class="ml-2 hidden animate-spin">ðŸŒ€</span>
            </button>
            <button id="format-help-btn" class="ml-2 p-2 rounded-lg bg-amber-200 dark:bg-gray-700 hover:bg-amber-300 dark:hover:bg-gray-600 transition-colors">
                <span>?</span>
            </button>
        </div>

        <!-- Links -->
        <div class="text-center mt-5 mb-5">
            <a href="https://tinyurl.com/vgcpastes2023" target="_blank" class="text-amber-600 hover:text-amber-700 mr-4 dark:text-amber-400 dark:hover:text-amber-300">VGC Pastes Excel Sheet</a>
            <a href="https://x.com/VGCPastes" target="_blank" class="text-amber-600 hover:text-amber-700 dark:text-amber-400 dark:hover:text-amber-300">Follow us on Twitter</a>
        </div>

        <!-- Format Help Section -->
        <div id="format-help" class="hidden mt-4 p-4 bg-amber-100 dark:bg-gray-700 rounded-lg shadow-md">
            <h3 class="text-lg font-bold mb-2 text-gray-800 dark:text-gray-100">Format Help</h3>
            <p class="text-sm text-gray-700 dark:text-gray-300">You can ask for teams with specific PokÃ©mon, items, Tera types, types, and roles. Here are some examples:</p>
            <ul class="list-disc list-inside text-sm text-gray-700 dark:text-gray-300 mt-2">
                <li><strong>PokÃ©mon:</strong> "Pikachu", "Charizard"</li>
                <li><strong>Items:</strong> "Pikachu holding Light Ball", "Charizard with Choice Scarf"</li>
                <li><strong>Tera Types:</strong> "Pikachu with Tera Electric", "Charizard with Tera Fire"</li>
                <li><strong>Types:</strong> "Water-type team", "Fire-type PokÃ©mon"</li>
                <li><strong>Roles:</strong> "strong attacker", "defensive PokÃ©mon", "speedy Water-type"</li>
            </ul>
            <p class="text-sm text-gray-700 dark:text-gray-300 mt-2">Example: "I want a team with a Pikachu holding a Light Ball and using Thunderbolt. Include a strong attacker and a Water-type PokÃ©mon."</p>
        </div>

        <!-- Updated Grid Layout: 3 cards per row on large screens -->
        <div id="team-container" class="grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4">
            <!-- Team will be displayed here -->
        </div>

        <!-- Big Copy Button for the Entire Team -->
        <div id="copy-all-container" class="mt-8 text-center hidden">
            <button id="copy-all-btn" class="bg-green-600 p-3 rounded-lg hover:bg-green-700 text-white transition-colors text-lg">
                Copy PokÃ©paste
            </button>
        </div>
    </div>
    <script src="https://unpkg.com/@pkmn/img"></script>
    <script src="{{ url_for('static', filename='script.js') }}"></script>
</body>
</html>